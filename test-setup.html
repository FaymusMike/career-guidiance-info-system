<!DOCTYPE html>
<html>
<head>
    <title>Test Setup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body class="container mt-5">
    <h1>Firebase Setup Test</h1>
    
    <div class="card mt-3">
        <div class="card-body">
            <h5>Test Results:</h5>
            <div id="results"></div>
        </div>
    </div>
    
    <script>
        const results = document.getElementById('results');
        
        // Your Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyDnqdtFHAutJgIWm_99xg0donEF4avlY4I",
            authDomain: "gods-eye-68c7a.firebaseapp.com",
            projectId: "gods-eye-68c7a",
            storageBucket: "gods-eye-68c7a.firebasestorage.app",
            messagingSenderId: "182309364788",
            appId: "1:182309364788:web:29a684a00f950432091661"
        };
        
        async function runTests() {
            try {
                // Test 1: Initialize Firebase
                results.innerHTML += '<p>1. Initializing Firebase...</p>';
                firebase.initializeApp(firebaseConfig);
                results.innerHTML += '<p class="text-success">✓ Firebase initialized</p>';
                
                // Test 2: Test Auth
                results.innerHTML += '<p>2. Testing Authentication...</p>';
                const auth = firebase.auth();
                results.innerHTML += '<p class="text-success">✓ Auth service loaded</p>';
                
                // Test 3: Test Firestore
                results.innerHTML += '<p>3. Testing Firestore...</p>';
                const db = firebase.firestore();
                results.innerHTML += '<p class="text-success">✓ Firestore service loaded</p>';
                
                // Test 4: Check current user
                results.innerHTML += '<p>4. Checking auth state...</p>';
                const user = auth.currentUser;
                if (user) {
                    results.innerHTML += `<p class="text-success">✓ User logged in: ${user.email}</p>`;
                } else {
                    results.innerHTML += '<p class="text-warning">⚠ No user logged in (this is normal)</p>';
                }
                
                results.innerHTML += '<p class="text-success mt-3"><strong>✅ All tests passed! Your Firebase setup is working.</strong></p>';
                
            } catch (error) {
                results.innerHTML += `<p class="text-danger"><strong>❌ Error: ${error.message}</strong></p>`;
                console.error('Test error:', error);
            }
        }
        
        runTests();
    </script>
</body>
</html>